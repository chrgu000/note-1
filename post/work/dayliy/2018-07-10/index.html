<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title></title>
<meta name="description" content=" John Doe&#39;s Personal blog about everything">
<meta name="generator" content="Hugo 0.17" />
<meta property="og:title" content="" />
<meta property="og:description" content="vpn:VPN:liushuangzhen 密码：Fyh@10024008:登录用户名： liulu ,登录密码： 3iO2ly18 ,请登
wangyaozu Wyz@2019
Yy@wgzx90Yy@wgzx125
mysql:5.7.20postgres:9.4.15
yum install postgresql94 --downloadonly --downloaddir=/root/pg-msqlyum install postgresql94-server --downloadonly --downloaddir=/root/pg-msql
yum install mysql-community-server --downloadonly --downloaddir=/root/pg-msql
yum reinstall libtirpc --downloadonly --downloaddir=/root/pg-msql
yum deplist libtirpc-devel
systemctl restart postgresql-9.4
systemctl status postgresql-9.4
cat &gt; /etc/yum.repos.d/pg-msql.repo &lt;&lt;_EOF_
name=pg-msqlbaseurl=file:///home/yingyong/pg-msqlenabled=1gpgcheck=0EOF
vi ./.bash_profile
[ -f /etc/profile ] &amp;&amp; source /etc/profilePGDATA=/var/lib/pgsql/9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/work/dayliy/2018-07-10/" />














<link rel="stylesheet" href="/css/google-font.css?family=Open+Sans:400,400italic,700,600" type="text/css" media="all" />

<link rel="stylesheet" href="/css/railscasts.css">
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/custom.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/jquery.bigautocomplete.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/asciinema-player.css" type="text/css" media="all" />
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg" rel="stylesheet">

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/js/scripts.js"></script>
<!--[if lt IE 9]>
	<script src="/js/css3-mediaqueries.js"></script>
<![endif]-->

</head>
<body id="mr-mobile" class="home blog mr-right-sb" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="mr-container mr-container-outer">
		<div class="mr-header-mobile-nav clearfix"></div>
			<header class="mr-header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="mr-container mr-container-inner mr-row clearfix">
					<div class="mr-custom-header clearfix">
						<div class="mr-site-identity">
							<div class="mr-site-logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
								<div class="mr-header-text">
									<a class="mr-header-text-link" href="/" title="零零碎碎" rel="home">
										<h1 class="mr-header-title">零零碎碎</h1>
										<h2 class="mr-header-tagline">点滴记录</h2>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="mr-main-nav-wrap">
					<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
        
            <li class="menu__item"><a class="menu__link" href="/categories/docker">docker</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/hadoop">hadoop</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/scala">scala</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/spark">spark</a></li>
        
	</ul>
</nav>
				</div>
			</header>
		<div class="mr-wrapper clearfix">


<div class="mr-content" id="main-content" role="main" itemprop="mainContentOfPage">
	<article class="post">
		<header class="entry-header clearfix">
			<h1 class="entry-title"></h1>
			<p class="mr-meta entry-meta">
				<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
				<time class="entry-meta-date updated" datetime="0001-01-01 00:00:00 &#43;0000 UTC">January 01, 0001</time>
			</p>
		</header>
		<div class="entry-content clearfix">
			
			<div class="sect1">
<h2 id="_vpn">vpn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>:
VPN:liushuangzhen   密码：Fyh@10024008
:
登录用户名： liulu ,登录密码： 3iO2ly18 ,请登</p>
</div>
<div class="paragraph">
<p>wangyaozu       Wyz@2019</p>
</div>
<div class="paragraph">
<p>Yy@wgzx90
Yy@wgzx125</p>
</div>
<div class="paragraph">
<p>mysql:5.7.20
postgres:9.4.15</p>
</div>
<div class="paragraph">
<p>yum install postgresql94 --downloadonly --downloaddir=/root/pg-msql
yum install postgresql94-server --downloadonly --downloaddir=/root/pg-msql</p>
</div>
<div class="paragraph">
<p>yum install mysql-community-server --downloadonly --downloaddir=/root/pg-msql</p>
</div>
<div class="paragraph">
<p>yum reinstall libtirpc --downloadonly --downloaddir=/root/pg-msql</p>
</div>
<div class="paragraph">
<p>yum deplist libtirpc-devel</p>
</div>
<div class="paragraph">
<p>systemctl restart postgresql-9.4</p>
</div>
<div class="paragraph">
<p>systemctl status postgresql-9.4</p>
</div>
<div class="paragraph">
<p>cat &gt; /etc/yum.repos.d/pg-msql.repo &lt;&lt;_EOF_</p>
</div>
<div class="paragraph">
<p>name=pg-msql
baseurl=file:///home/yingyong/pg-msql
enabled=1
gpgcheck=0
<em>EOF</em></p>
</div>
<div class="paragraph">
<p>vi ./.bash_profile</p>
</div>
<div class="paragraph">
<p>[ -f /etc/profile ] &amp;&amp; source /etc/profile
PGDATA=/var/lib/pgsql/9.4/data
export PGDATA
[ -f /var/lib/pgsql/.pgsql_profile ] &amp;&amp; source /var/lib/pgsql/.pgsql_profile</p>
</div>
<div class="paragraph">
<p>export PS1='[\u@\h \W]\$'</p>
</div>
<div class="paragraph">
<p>psql -U postgres</p>
</div>
<div class="paragraph">
<p>mv public.sql /var/lib/pgsql &amp;&amp;\
psql -U postgres -W -d postgres -f public.sql</p>
</div>
<div class="paragraph">
<p>pg_hba.conf和postgresql.conf的存放目录都在(9.5版本)/etc/postgresql/9.5/main</p>
</div>
<div class="paragraph">
<p>host  all    all    192.168.1.0/24    trust</p>
</div>
<div class="paragraph">
<p>10.198.102.125
10.198.102.90</p>
</div>
<div class="paragraph">
<p>spark-submit \
--class io.dishui.SaveToHdfs \
--master yarn \
--executor-memory 4G \
--total-executor-cores 2 \
spark-sql.jar</p>
</div>
<div class="paragraph">
<p>sh /usr/hdp/2.6.3.0-235/spark2/bin/spark-submit \
--class org.apache.spark.examples.SparkPi \
--master yarn \
--executor-memory 4G \
--total-executor-cores 2 \
/usr/hdp/current/spark2-client/examples/jars/spark-examples_2.11-2.2.0.2.6.3.0-235.jar \
100</p>
</div>
<div class="paragraph">
<p>192.168.1.176
192.168.1.1
guizhou1234</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nifi">nifi</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>http://10.198.102.91:9980/nifi/


/apps/shtest/s1u/dh=${now():toNumber():minus(5529600000):format('yyyyMMdd')}*

8个小时
/data/volte1/*/phour=${now():toNumber():minus(28800000):format('yyyyMMdd')}*



${filename:contains('Sv')}

${filename:getDelimitedField(5, '_'):substring(0,10)}

${line:getDelimitedField(5, '|'):in('851','0851')}

${filename:contains('Gm')}
${filename:contains('ISC')}
${filename:contains('Mg')}
${filename:contains('Cx')}
${filename:contains('Sh')}
${filename:contains('Gx')}
${filename:contains('Rx')}
${filename:contains('Zh')}
${filename:contains('s1mme')}
${filename:contains('Mj')}

category gm
category isc
category mg
category cx
category sh
category gx
category rx
category zh
category s1mme
category mj

hour ${filename:getDelimitedField(5, '_'):substring(0,10)}


Gm
ISC
Mg
Cx
Sh
Gx
Rx
Zh
s1mme
Mj

'mw','sv','gm','isc','mg','cx','sh','gx','rx','zh','s1mme','mj'

${category:in('mw','sv','drop','srvcc','cmcc','dropmr','srvccmr','cmccmr','vtv','drops1mme','gm','isc','mg','cx','sh','gx','rx','zh','s1mme','mj')}


${category:in('drop','srvcc','cmcc','dropmr','srvccmr','cmccmr','vtv','drops1mme')}
${category:in('s1mme')}
${category:in('mw','sv','gm','isc','mg','cx','sh','gx','rx','zh','mj')}

&lt;handler name="xdr_mro" wrapper="xdr-file-csv" target="xdr_mro"&gt;^\d{2}\.csv$&lt;/handler&gt;
&lt;handler name="xdr_volte_gm" wrapper="xdr-file-csv" target="xdr_volte_gm"&gt;^LTE_.*Gm.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_mw" wrapper="xdr-file-csv" target="xdr_volte_mw"&gt;^LTE_.*Mw.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_isc" wrapper="xdr-file-csv" target="xdr_volte_isc"&gt;^LTE_.*ISC.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_mg" wrapper="xdr-file-csv" target="xdr_volte_mg"&gt;^LTE_.*Mg.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_sv" wrapper="xdr-file-csv" target="xdr_volte_sv"&gt;^LTE_.*Sv.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_cx" wrapper="xdr-file-csv" target="xdr_volte_cx"&gt;^LTE_.*Cx.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_sh" wrapper="xdr-file-csv" target="xdr_volte_sh"&gt;^LTE_.*Sh.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_gx" wrapper="xdr-file-csv" target="xdr_volte_gx"&gt;^LTE_.*Gx.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_rx" wrapper="xdr-file-csv" target="xdr_volte_rx"&gt;^LTE_.*Rx.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_zh" wrapper="xdr-file-csv" target="xdr_volte_zh"&gt;^LTE_.*Zh.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_s1mme" wrapper="xdr-file-csv" target="xdr_volte_s1mme"&gt;^.*s1mme.*\.txt$&lt;/handler&gt;
&lt;handler name="xdr_volte_mj" wrapper="xdr-file-csv" target="xdr_volte_mj"&gt;^LTE_.*Mj.*\.txt$&lt;/handler&gt;



/data/ftpdata/output/data1
${sftp.listing.user}

log
tail -f /opt/do/hdf/nifi/logs/nifi-app.log


${category:in('mw','sv','drop','srvcc','cmcc','dropmr','srvccmr','cmccmr','vtv','drops1mme')}

${category:in('sv')}


${line:find('\|851\|0?851\|851\|851\||\|851\|0?851\|\|\|')}

/opt/do/hdf/nifi/bin/msck.sh

${hour:ge(2018071810):and(${hour:le(2018071810)})}

正则表达式
\|851\|0?851\|851\|851\|
|
\|851\|0?851\|\|\|

\|851\|0?851\|851\|851\||\|851\|0?851\|\|\|

demo
213|851|851|851|851|4|19|31643062383031336163373737333030|6|460009418170416|860736031356767|13639104991|1|1531685679501|1531685680070|10.43.192.163|2123|10.43.27.147|2123|0|460|00|460|00|34068|34068|141167882|||10.43.192.163|2818771204|499999522|8613748850||9383||16|0|||569|852
213|851|0851|851|851|4|19

213|851|0851|||4|19

ListSFTP
  10.198.102.115
  /data/ftpdata/output/data
  Yy@wgzx115
  .*\.csv

/etc/hadoop/conf/core-site.xml,/etc/hadoop/conf/hdfs-site.xml</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ambari">ambari</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://10.198.102.122:8080/#/login" class="bare">http://10.198.102.122:8080/#/login</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hdfs">hdfs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>10.198.102.122:50070
10.198.102.123:8088</p>
</div>
<div class="paragraph">
<p>10.198.102.115</p>
</div>
<div class="sect2">
<h3 id="_nfs">nfs</h3>
<div class="listingblock">
<div class="content">
<pre>hadoop008 10.198.102.129

sudo systemctl stop rpcbind
sudo systemctl stop rpcbind.socket

sudo hdfs portmap 2&gt;portmap.err &amp;
hdfs nfs3 2&gt;~/nfs3.err &amp;

sudo mount -t nfs -o vers=3,proto=tcp,nolock $HOSTNAME:/ /data/mnt/hdfs

sudo mount -t nfs -o vers=3,proto=tcp,nolock 10.198.102.129:/ /data/hdfs

mount -t nfs -o vers=3,proto=tcp,nolock,noacl,sync 10.198.102.129:/ /data/hdfs

mount -t nfs -o rw,async,wsize=32768,rsize=32768  10.198.102.129:/ /data/hdfs

清理 IO 读写 cache
echo 2 &gt; /proc/sys/vm/drop_caches</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql">mysql</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MSCK REPAIR TABLE table_name;</p>
</div>
<div class="paragraph">
<p>CREATE DATABASE <code>volte</code> CHARACTER SET utf8;</p>
</div>
<div class="paragraph">
<p>port            = 3308
user            = mysql
pid-file        = /var/lib/mysql/mysql.pid
socket          = /var/lib/mysql/mysql.sock
datadir         = /var/lib/mysql
skip-external-locking
key_buffer_size = 384M
max_allowed_packet = 1M
table_open_cache = 512
sort_buffer_size = 2M
read_buffer_size = 2M
read_rnd_buffer_size = 8M
myisam_sort_buffer_size = 64M
thread_cache_size = 8
query_cache_size = 32M</p>
</div>
</div>
</div>
<h1 id="_忽略大小写" class="sect0">忽略大小写</h1>
<div class="paragraph">
<p>lower_case_table_names = 1
innodb_file_per_table = 1
character_set_server = utf8</p>
</div>
<div class="paragraph">
<p>ALTER USER USER() IDENTIFIED BY 'volte123456';</p>
</div>
<div class="paragraph">
<p>SET PASSWORD = PASSWORD('volte123456');
ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;
flush privileges;</p>
</div>
<div class="paragraph">
<p>GRANT ALL PRIVILEGES ON <strong>.</strong> TO 'root'@'%' IDENTIFIED BY 'volte123456' WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON <strong>.</strong> TO 'develop'@'%' IDENTIFIED BY 'volte123456' WITH GRANT OPTION;
flush privileges;</p>
</div>
<div class="paragraph">
<p>mysql -u develop -p</p>
</div>
<div class="paragraph">
<p>select * from f_v_bxdr_vtv_h limit 5;</p>
</div>
<div class="sect1">
<h2 id="_sz_rz">Sz/Rz</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"U:\dishui\content\post\work\dayliy\nifi-1.xml"</p>
</div>
<div class="paragraph">
<p>"U:\project\Framework\plugins\com.nsn.datamining.mysql.jar"
"U:\project\Framework\plugins\com.nsn.messages.client.jar"
"U:\project\Framework\plugins\com.nsn.datamining.jar"</p>
</div>
<div class="paragraph">
<p>"U:\project\Framework\plugins\com.nsn.web.do.tbox.jar"
"U:\project\Framework\plugins\com.nsn.do.tbox.cmcc.spark.volte.jar"
"U:\project\Framework\plugins\com.nsn.logger.jar"
"U:\project\Framework\plugins\tmp.tar.gz"</p>
</div>
<div class="paragraph">
<p>"U:\IdeaProject\scala\g8out\spark-streaming-2.3\sql\target\spark-sql.jar"</p>
</div>
<div class="paragraph">
<p>"V:\Users\dishui\Desktop\贵州-移动\plugins\com.nsn.base.hdfs-1.0.jar"
"V:\Users\dishui\Desktop\贵州-移动\plugins\com.nsn.messages.check.jar"</p>
</div>
<div class="paragraph">
<p>"U:\project\Framework\plugins\com.nsn.datamining.support.xdr.cmcc.cmdi.jar"
"U:\project\Framework\plugins\com.nsn.do.tbox.cmcc.spark.volte.widetable.jar"
"U:\project\Framework\plugins\com.nsn.do.tbox.cmcc.spark.volte.widetable.day.jar"
"U:\project\Framework\plugins\com.nsn.datamining.support.xdr.cmcc.cmdi.jar"</p>
</div>
<div class="paragraph">
<div class="title">/incre-tar.sh updatejar com.nsn.datamining.spark.jar Main</div>
<p>incre-tar.sh updatejar com.nsn.datamining.spark.jar HDFSStreamSource</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bash">bash</h2>
<div class="sectionbody">
<div class="paragraph">
<p>查看 用户hdfs 运行的进程
ps -u hdfs</p>
</div>
<div class="paragraph">
<p>netstat -tln|grep 8899</p>
</div>
<div class="paragraph">
<p>根据Pid 查看端口
netstat -tunlp|grep</p>
</div>
<div class="paragraph">
<p>修改匹配行的下一行</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sed -i '/dfs.replication/{n;s@3@1@}' /etc/hadoop/conf/hdfs-site.xml</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>for i in `seq -w 001 026`; do ssh hadoop$i 'sudo rm -rf /etc/yum.repos.d/ambari-hdp-1.repo'; done

for i in `seq -w 02 09`; do ssh nifi$i 'sudo mkdir -p /etc/hadoop/conf/'; done
for i in `seq -w 02 09`; do scp /etc/hadoop/conf/core-site.xml /etc/hadoop/conf/hdfs-site.xml nifi$i:/etc/hadoop/conf/; done

for i in `seq -w 01 09`; do ssh hdfs@nifi$i 'source /etc/profile;sh /opt/do/hdf/nifi/bin/nifi.sh stop'; done

for i in `seq -w 04 09`; do ssh nifi$i 'echo "###hdfs###" &gt;&gt; /etc/hosts'; done

for i in `seq -w 02 09`; do ssh nifi$i 'chown -R hdfs:hdfs /etc/hadoop/'; done

for i in `seq -w 01 09`; do ssh nifi$i 'echo "10.198.102.122  hadoop001" &gt;&gt; /etc/hosts'; done

for i in `seq -w 01 09`; do ssh nifi$i 'echo "export HADOOP_USER_NAME=hdfs" &gt;&gt; /root/.bash_profile'; done

for i in `seq -w 01 09`; do ssh nifi$i 'source /root/.bash_profile'; done

hdfs

http://10.198.102.122/HDP/centos7/2.6.3.0-235

http://10.198.102.122/HDP-UTILS


com.nsn.datamining.spark.jar Spark1Runtime

com.nsn.datamining.jar XmlDataminingFactory</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ftp">ftp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>地址
  sftp://hwvolte:hwvolte%40123@10.195.221.87:22/../../data1/hwvolte/?maxactive=64&amp;download=false</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sftp://hwvolte:hwvolte@123</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>sftp hwvolte@10.195.221.87
10.195.221.87:22/../../data1/hwvolte/?maxactive=64&amp;download=false</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Xmx8g -Xms2g -jar hdfs-over-ftp-1.0-jar-with-dependencies.jar 2&gt;~/hdfs-ftp.err &amp;</pre>
</div>
</div>
<div class="paragraph">
<p>s1mme
  eric_lte:eric_lte@123
  /data1/eric_lte/sig</p>
</div>
<div class="paragraph">
<p>10.198.111.72
10.198.111.73
10.198.111.74
10.198.111.75
10.198.111.215
10.198.111.216
10.198.111.217
10.198.111.218
10.198.111.219
10.198.111.198
10.198.111.199
10.198.111.200
10.198.111.201
10.198.111.202
10.198.111.203</p>
</div>
<div class="paragraph">
<p>decoder.output.1=sftp://eric_lte:eric_lte%40123@10.198.111.72:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.2=sftp://eric_lte:eric_lte%40123@10.198.111.73:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.3=sftp://eric_lte:eric_lte%40123@10.198.111.74:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.4=sftp://eric_lte:eric_lte%40123@10.198.111.75:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.5=sftp://eric_lte:eric_lte%40123@10.198.111.215:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.6=sftp://eric_lte:eric_lte%40123@10.198.111.216:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.7=sftp://eric_lte:eric_lte%40123@10.198.111.217:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.8=sftp://eric_lte:eric_lte%40123@10.198.111.218:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.9=sftp://eric_lte:eric_lte%40123@10.198.111.219:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.0=sftp://eric_lte:eric_lte%40123@10.198.111.198:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.1=sftp://eric_lte:eric_lte%40123@10.198.111.199:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.2=sftp://eric_lte:eric_lte%40123@10.198.111.200:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.3=sftp://eric_lte:eric_lte%40123@10.198.111.201:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.4=sftp://eric_lte:eric_lte%40123@10.198.111.202:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false
decoder.output.5=sftp://eric_lte:eric_lte%40123@10.198.111.203:22/../../data1/eric_lte/sig?maxactive=64&amp;download=false</p>
</div>
<div class="paragraph">
<p>7.7 G    /data/volte/cx
12.7 G   /data/volte/gm
115.6 G  /data/volte/gx
14.2 G   /data/volte/isc
1.5 G    /data/volte/mg
1.8 G    /data/volte/mj
51.1 G   /data/volte/mw
16.1 G   /data/volte/rx
22.4 G   /data/volte/sh
12.2 M   /data/volte/zh</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hive">hive</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>bigxdrcmcc
bigxdrcmccdrop
bigxdrcmccdropmr
bigxdrcmccmr
bigxdrcmccsrvcc
bigxdrcmccsrvccmr
bigxdrdrops1mme
bigxdrvtv
mw
sv

* */1 * * * source /etc/profile;/opt/do/apache-ant-1.10.2/bin/ant -f /data/binFileClear/clearouttimebin.xml &gt;/dev/null 2&gt;&amp;1

0 */20 * * * ? source /etc/profile;hive -f /home/hdfs/zk-tmp/msck.sql &gt;/dev/null 2&gt;&amp;1</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#!/bin/bash
TABLE_ARRAY=("bigxdrcmcc" "bigxdrcmccdrop" "bigxdrcmccdropmr" "bigxdrcmccmr" "bigxdrcmccsrvcc" "bigxdrcmccsrvccmr" "bigxdrdrops1mme" "bigxdrvtv" "mw" "sv")
DATABASE="default"
EXPORTFILE="export-ddl.sql"

echo "use $DATABASE;" &gt; $EXPORTFILE
for TABLE in ${TABLE_ARRAY[*]}
do
  #echo "show create table $TABLE;" &gt;&gt; $EXPORTFILE
  echo "MSCK REPAIR TABLE  $TABLE;" &gt;&gt; $EXPORTFILE
done

hive -f $EXPORTFILE &gt; r.sql</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TABLE_ARRAY=("bigxdrcmcc" "bigxdrcmccdrop" "bigxdrcmccdropmr" "bigxdrcmccmr" "bigxdrcmccsrvcc" "bigxdrcmccsrvccmr" "bigxdrdrops1mme" "bigxdrvtv" "mw" "sv")
DATABASE="default"
EXPORTFILE="msck.sql"

for TABLE in ${TABLE_ARRAY[*]}
do
  echo "MSCK REPAIR TABLE  $TABLE;" &gt;&gt; $EXPORTFILE
done</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>TABLE_ARRAY=("bigxdrcmcc" "bigxdrcmccdrop" "bigxdrcmccdropmr" "bigxdrcmccmr" "bigxdrcmccsrvcc" "bigxdrcmccsrvccmr" "bigxdrdrops1mme" "bigxdrvtv" "mw" "sv")
DATABASE="default"
EXPORTFILE="show_partition.sql"
EXPORTFILER="show_partition_r.sql"

echo "use $DATABASE;" &gt; $EXPORTFILE
for TABLE in ${TABLE_ARRAY[*]}
do
  echo "show partitions $TABLE;" &gt;&gt; $EXPORTFILE
done

hive -f $EXPORTFILE &gt; $EXPORTFILER</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#!/bin/bash

echo 1 &gt;&gt; /tmp/test.tmp</code></pre>
</div>
</div>
<div class="paragraph">
<p>show create table</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ansible">ansible</h2>
<div class="sectionbody">
<div class="paragraph">
<p>yum -y install epel-release</p>
</div>
<div class="paragraph 6 3 0">
<p>name=HDP Version - HDP-2.6.3.0
baseurl=http://10.198.102.122/HDP/centos7/2.6.3.0-235
gpgcheck=1
gpgkey=http://10.198.102.122/HDP/centos7/2.6.3.0-235/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
enabled=1
priority=1</p>
</div>
<div class="paragraph 1 0 21">
<p>name=HDP-UTILS Version - HDP-UTILS-1.1.0.21
baseurl=http://10.198.102.122/HDP-UTILS
gpgcheck=1
gpgkey=http://10.198.102.122/HDP-UTILS/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins
enabled=1
priority=1</p>
</div>
<div class="paragraph">
<p>"U:\dishui\content\src\linux\conf\ansible\guizhou.zip"</p>
</div>
<div class="paragraph">
<p>nifi01 ansible_ssh_host=10.198.102.91 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi02 ansible_ssh_host=10.198.102.92 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi03 ansible_ssh_host=10.198.102.93 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi04 ansible_ssh_host=10.198.102.94 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi05 ansible_ssh_host=10.198.102.95 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi06 ansible_ssh_host=10.198.102.96 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi07 ansible_ssh_host=10.198.102.97 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi08 ansible_ssh_host=10.198.102.98 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs
nifi09 ansible_ssh_host=10.198.102.99 ansible_ssh_user=hdfs ansible_ssh_pass=hdfs</p>
</div>
<div class="paragraph">
<p>COLUMN_NAME 列名,
COLUMN_TYPE 数据类型,
DATA_TYPE 字段类型,
CHARACTER_MAXIMUM_LENGTH 长度,
IS_NULLABLE 是否为空,
COLUMN_DEFAULT 默认值,
COLUMN_COMMENT 备注</p>
</div>
<div class="paragraph">
<p>列名,
数据类型,
字段类型,
长度,
是否为空,
默认值,
备注</p>
</div>
<div class="paragraph">
<p>sed -i s@nifi01@<code>hostname</code>@ /opt/do/hdf/nifi/conf/nifi.properties</p>
</div>
<div class="paragraph">
<p>MW  任务 晚1个半小时</p>
</div>
<div class="paragraph">
<p>--master yarn --deploy-mode client --driver-memory 12G --driver-cores 5 --executor-memory 8G --executor-cores 5 --num-executors 50 --conf spark.sql.shuffle.partitions=50 --conf spark.yarn.executor.memoryOverhead=4G</p>
</div>
<div class="paragraph">
<p>SV 任务
--master yarn --deploy-mode client --driver-memory 12G --driver-cores 5 --executor-memory 8G --executor-cores 5 --num-executors 20 --conf spark.sql.shuffle.partitions=20 --conf spark.yarn.executor.memoryOverhead=4G</p>
</div>
<div class="paragraph">
<p><a href="ftp://hdfs:310dcbbf4cce62f762a2aaa148d556bd@localhost:2222" class="bare">ftp://hdfs:310dcbbf4cce62f762a2aaa148d556bd@localhost:2222</a></p>
</div>
<div class="paragraph">
<p>LTE_851_SXYD00001_Cx_20180802091300_0005.txt</p>
</div>
<div class="paragraph">
<p>minute
${filename:getDelimitedField(5, '_'):substring(0,12)}</p>
</div>
<div class="paragraph">
<p>LTE_${category}_${minute}_${random():mod(1000):plus(1)}.txt</p>
</div>
<div class="paragraph">
<p>${category:in('Mw','Sv','drop','srvcc','cmcc','dropmr','srvccmr','cmccmr','vtv','drops1mme','Gm','ISC','Mg','Cx','Sh','Gx','Rx','Zh','s1mme','Mj')}</p>
</div>
<div class="paragraph">
<p>'Mw','Sv','drop','srvcc','cmcc','dropmr','srvccmr','cmccmr','vtv','drops1mme','Gm','Isc','Mg','Cx','Sh','Gx','Rx','Zh','s1mme','Mj'</p>
</div>
<div class="paragraph">
<p>'Gm','ISC','Mg','Cx','Sh','Gx','Rx','Zh','Mj'</p>
</div>
<div class="paragraph">
<p>"V:\Users\dishui\.m2\repository.zip.007"
"V:\Users\dishui\.m2\repository.zip.008"
"V:\Users\dishui\.m2\repository.zip.009"
"V:\Users\dishui\.m2\repository.zip.010"
"V:\Users\dishui\.m2\repository.zip.011"
"V:\Users\dishui\.m2\repository.zip.012"
"V:\Users\dishui\.m2\repository.zip.013"
"V:\Users\dishui\.m2\repository.zip.014"
"V:\Users\dishui\.m2\repository.zip.015"
"V:\Users\dishui\.m2\repository.zip.016"
"V:\Users\dishui\.m2\repository.zip.017"</p>
</div>
</div>
</div>

		</div>
		
	</article>
	
<div class="mr-author-box clearfix">
	<figure class="mr-author-box-avatar">
		<img alt="dishui avatar" src="/src/img/dishui.png" class="avatar avatar-90 photo" height="90" width="90">
	</figure>
	<div class="mr-author-box-header">
		<span class="mr-author-box-name">About dishui</span>
	</div>
	<div class="mr-author-box-bio">
		辛勤的搬运工!!!
	</div>
</div>

	

	<nav class="mr-post-nav mr-row clearfix" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
		
		<div class="mr-col-1-2 mr-post-nav-item mr-post-nav-prev">
			<a href="/post/work/dayliy/2018-01-15/" rel="prev"><span>«Previous</span><p></p></a>
		</div>
		
		
		<div class="mr-col-1-2 mr-post-nav-item mr-post-nav-next">
			<a href="/post/work/dayliy/3/" rel="next"><span>Next»</span><p></p></a>
		</div>
		
	</nav>


	
</div>

<aside class="mr-sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
<div class="mr-widget widget_search navbar-wrapper" >
    <div class="search-form">
        <label>
            <span class="screen-reader-text">Search for:</span>
            <input id="lanren" type="text" class="search-field" placeholder="Search..." value="" name="q">
        </label>
        <div id="list-container" class="bdsug" style="height: auto; display: block;">
        </div>
    </div>
    <div id="side-toc" class="entry-content">

    </div>
</div>
</aside>
	</div>
		<div class="mr-copyright-wrap">
			<div class="mr-container mr-container-inner clearfix">
				<p class="mr-copyright">&copy; 2018 零零碎碎. <a href="https://git.oschina.net/dishui/dishui" target="_blank" rel="nofollow noopener noreferrer">dishui</a>.</p>
			</div>
		</div>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
<script src="/js/asciinema-player.js"></script>
<script data-main="/js/app.js" src="/js/require.js"></script>


</body>
</html>