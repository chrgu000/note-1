<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>快学Scala</title>
<meta name="description" content=" John Doe&#39;s Personal blog about everything">
<meta name="generator" content="Hugo 0.17" />
<meta property="og:title" content="快学Scala" />
<meta property="og:description" content="scala1. 类1.1. Bean 属性1.2. 辅助构造器1.3. 主构造器2. 带函数参数的函数2.1. 参数(类型)推导1. 类1.1. Bean 属性1.2. 辅助构造器辅助构造器的名称为this (在Java或C、中，构造器的名称和类名相同—当你修改类名时就不那么方便了。)
每一个辅助构造器都必须以一个对先前已定义的其他辅助构造器或主构造器的调用开始
辅助构造器类
class Person{private var name = &#34;&#34;private var age = 0def this(name:String){ // 一个辅助构造器this() // 调用主构造器this.name = name}def this(name:String, age: Int){ // 另一个辅助构造器this(name) // 调用前一个辅助构造器this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/bigdata/scala/%E5%BF%AB%E5%AD%A6Scala/" />


<meta property="og:updated_time" content="2017-06-21T13:03:08&#43;00:00"/>











<link rel="stylesheet" href="/css/google-font.css?family=Open+Sans:400,400italic,700,600" type="text/css" media="all" />

<link rel="stylesheet" href="/css/railscasts.css">
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/custom.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/jquery.bigautocomplete.css" type="text/css" media="all" />
<link rel="stylesheet" href="/css/asciinema-player.css" type="text/css" media="all" />
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg" rel="stylesheet">

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="/js/scripts.js"></script>
<!--[if lt IE 9]>
	<script src="/js/css3-mediaqueries.js"></script>
<![endif]-->

</head>
<body id="mr-mobile" class="home blog mr-right-sb" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="mr-container mr-container-outer">
		<div class="mr-header-mobile-nav clearfix"></div>
			<header class="mr-header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="mr-container mr-container-inner mr-row clearfix">
					<div class="mr-custom-header clearfix">
						<div class="mr-site-identity">
							<div class="mr-site-logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
								<div class="mr-header-text">
									<a class="mr-header-text-link" href="/" title="零零散散" rel="home">
										<h1 class="mr-header-title">零零散散</h1>
										<h2 class="mr-header-tagline">点滴记录</h2>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="mr-main-nav-wrap">
					<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
        
            <li class="menu__item"><a class="menu__link" href="/categories/docker">docker</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/hadoop">hadoop</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/scala">scala</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/spark">spark</a></li>
        
            <li class="menu__item"><a class="menu__link" href="/categories/storm">storm</a></li>
        
	</ul>
</nav>
				</div>
			</header>
		<div class="mr-wrapper clearfix">


<div class="mr-content" id="main-content" role="main" itemprop="mainContentOfPage">
	<article class="post">
		<header class="entry-header clearfix">
			<h1 class="entry-title">快学Scala</h1>
			<p class="mr-meta entry-meta">
				<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
				<time class="entry-meta-date updated" datetime="2017-06-21 13:03:08 &#43;0000 UTC">June 21, 2017</time>
				<span class="entry-meta-categories">
					<svg class="icon icon-category" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
					<a class="meta-categories" href="/categories/scala" rel="category">scala</a></span>
			</p>
		</header>
		<div class="entry-content clearfix">
			
			<div id="toc" class="toc">
<div id="toctitle">scala</div>
<ul class="sectlevel1">
<li><a href="#_类">1. 类</a>
<ul class="sectlevel2">
<li><a href="#__strong_bean_strong_属性">1.1. <strong>Bean</strong> 属性</a></li>
<li><a href="#_辅助构造器">1.2. 辅助构造器</a></li>
<li><a href="#_主构造器">1.3. 主构造器</a></li>
</ul>
</li>
<li><a href="#_带函数参数的函数">2. 带函数参数的函数</a>
<ul class="sectlevel2">
<li><a href="#_参数_类型_推导">2.1. 参数(类型)推导</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_类">1. 类</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__strong_bean_strong_属性">1.1. <strong>Bean</strong> 属性</h3>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-21_130203.png" alt="2017 06 21 130203">
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_辅助构造器">1.2. 辅助构造器</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>辅助构造器的名称为this (在Java或C、中，构造器的名称和类名相同—当
你修改类名时就不那么方便了。)</p>
</li>
<li>
<p>每一个辅助构造器都必须以一个对先前已定义的其他辅助构造器或主构造器的
调用开始</p>
</li>
<li>
<p>辅助构造器类</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>class Person{
  private var name = ""
  private var age = 0

  def this(name:String){ // 一个辅助构造器
    this() // 调用主构造器
    this.name = name
  }

  def this(name:String, age: Int){ // 另一个辅助构造器
    this(name) // 调用前一个辅助构造器
    this.age = age
  }
}</code></pre>
</div>
</div>
</li>
<li>
<p>三种方式构建对象</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>    val p1 = new Person // 主构造器
    val p2 = new Person("Spark") // 第一个辅助构造器
    val p3 = new Person("Spark",42) // 第二个辅助构造器</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_主构造器">1.3. 主构造器</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>主构造器的参数直接放置在类名之后</p>
</li>
<li>
<p>主构造器会执行类定义中的所有语句。例如在以下类中:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>class Person2(val name:String,val age:Int){
  println("Person2") <i class="conum" data-value="1"></i><b>(1)</b>
  def description = name + " is " + age + " years old "
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>println语句是主构造器的一部分。每当有对象被构造出来时，上述代码就会被执行</td>
</tr>
</table>
</div>
</li>
<li>
<p>针对主构造器参数生成的字段和方法</p>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-21_144831.png" alt="2017 06 21 144831">
</div>
</div>
<hr>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_带函数参数的函数">2. 带函数参数的函数</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在本节中，你将会看到如何实现接受另一个函数作为参数的函数。以下是一个示例</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>def valueAtOneQuarter(f: (Double) =&gt; Double) = f(0.25)</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    注意。这里的参数可以是任何接受Double并返Double的函数。valueAtOneQuarter
函数将计算那个函数在D.25位置的值。</pre>
</div>
</div>
<div class="paragraph">
<p>例如
    valueAtOneQuarter(ceil _) // 1.0
    valueAtOneQuarter(sqrt _) // 0.5 (因为 0.5 * 0.5 = 0.25)</p>
</div>
<div class="paragraph">
<p>valueAtOneQuarter类型是什么呢?它是一个带有单个参数的函数，因为它的类型</p>
</div>
<div class="paragraph">
<p>(参数类型) &#8658; 结果类型</p>
</div>
<div class="paragraph">
<p>结果类型很显然是Double,而参数类型已经在函数头部以(Double) &#8658; Double给出
了。因此，valueAtOneQuarter的类型为:</p>
</div>
<div class="paragraph">
<p>((Double) &#8658; Double) &#8658; Double</p>
</div>
<div class="paragraph">
<p>由于valueAtOneQuarter是一个接受函数参数的函数，因此它被称做高阶函数
高阶函数也可以产出另一个函数。以下是一个简单示例:</p>
</div>
<div class="paragraph">
<p>def mulBy(factor: Double) = (x: Double) &#8658; factor * x</p>
</div>
<div class="paragraph">
<p>mulBy函数有一个类型为Double的参数，返回一个类型为(Double) &#8658; Double 的函数</p>
</div>
<div class="paragraph">
<p>(Double) &#8658; ((Double) &#8658; Double)</p>
</div>
<div class="sect2">
<h3 id="_参数_类型_推导">2.1. 参数(类型)推导</h3>
<div class="paragraph">
<p>当你将一个匿名函数传递给另一个函数或方法时。Scala会尽可能帮助你推断出类
型信息。举例来说，你不需要将代码写成:</p>
</div>
<div class="paragraph">
<p>valueAtOneQuarter((x: Double) &#8658; 3 * x)</p>
</div>
<div class="paragraph">
<p>由于valueAtOneQuarter方法知道你会传入一个类型为(Double) &#8658; Double的函数 你可以简单地写成:
    valueAtOneQuarter((x) &#8658; 3 * x)</p>
</div>
<div class="paragraph">
<p>作为额外奖励，对于只有一个参数的函数，你可以略去参数外围的()
    valueAtOneQuarter(x &#8658; 3 * x)</p>
</div>
<div class="paragraph">
<p>这样更好了。如果参数在 &#8658; 右侧只出现一次，你可以用一替换掉它:
    valueAtOneQuarter(3 * _)</p>
</div>
<div class="paragraph">
<p>请注意这些简写方式仅在参数类型已知的情况下有效
    val fun = 3 * _ // 错误: 无法推断出类型
    val fun = 3 * (_: Double) // OK
    val fun: (Double) &#8658; Double = 3 * _ // OK, 因为我们给出了fun的类型</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  def mulBy(factor: Double) = (x: Double) =&gt; factor * x
考虑如下调用
  val triple = mulBy(3)
  val half = mulBy(0.5)
  println(triple(14) + " " + half(14)) // 42 7</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> *mulBy* 的首次调用将参数变量 *factor* 设为3。该变量在 *(x:Double) =&gt; factor*x*  函
数的函数体内被引用，该函数被存人 *triple* .然后参数变量 *factor* 从运行时的栈上
被弹出。
接下来， *mulBy* 再次被调用，这次 *factor* 被设为了0.5。该变量在 *(x:Double) =&gt; factor*x* 数的函数体内被引用。该函数被存入 *half*
每一个返回的函数都有自己的factor设置。
这样一个函数被称做闭包(closure)闭包由代码和代码用到的任何非局部变量定义构成
这些函数实际上是以类的对象方式实现的，该类有一个实例变量factor和一个包含了函数体的apply方法。</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-22_131426.png" alt="2017 06 22 131426">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-22_131515.png" alt="2017 06 22 131515">
</div>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-22_132227.png" alt="2017 06 22 132227">
</div>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="/src/img/scala/2017-06-22_132310.png.png" alt="2017 06 22 132310.png">
</div>
</div>
<hr>
<div class="paragraph">
<p><a href="http://twitter.github.io/scala_school/zh_cn/index.html" class="bare">http://twitter.github.io/scala_school/zh_cn/index.html</a></p>
</div>
<div class="paragraph">
<p>def calcType(calc: Calculator) = calc match {
  case Calculator("HP", "20B") &#8658; "financial"
  case Calculator("HP", "48G") &#8658; "scientific"
  case Calculator("HP", "30B") &#8658; "business"
  case Calculator(ourBrand, ourModel) &#8658; "Calculator: %s %s is of unknown type".format(ourBrand, ourModel)
}</p>
</div>
</div>
</div>
</div>

		</div>
		
	</article>
	
<div class="mr-author-box clearfix">
	<figure class="mr-author-box-avatar">
		<img alt="dishui avatar" src="/src/img/dishui.png" class="avatar avatar-90 photo" height="90" width="90">
	</figure>
	<div class="mr-author-box-header">
		<span class="mr-author-box-name">About dishui</span>
	</div>
	<div class="mr-author-box-bio">
		辛勤的搬运工!!!
	</div>
</div>

	

	<nav class="mr-post-nav mr-row clearfix" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
		
		<div class="mr-col-1-2 mr-post-nav-item mr-post-nav-prev">
			<a href="/post/my/%E9%9D%A2%E8%AF%95/" rel="prev"><span>«Previous</span><p>面试</p></a>
		</div>
		
		
		<div class="mr-col-1-2 mr-post-nav-item mr-post-nav-next">
			<a href="/post/bigdata/spark/spark-hive/" rel="next"><span>Next»</span><p>spark hive</p></a>
		</div>
		
	</nav>


	
</div>

<aside class="mr-sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
<div class="mr-widget widget_search navbar-wrapper" >
    <div class="search-form">
        <label>
            <span class="screen-reader-text">Search for:</span>
            <input id="lanren" type="text" class="search-field" placeholder="Search..." value="" name="q">
        </label>
        <div id="list-container" class="bdsug" style="height: auto; display: block;">
        </div>
    </div>
    <div id="side-toc" class="entry-content">

    </div>
</div>
</aside>
	</div>
		<div class="mr-copyright-wrap">
			<div class="mr-container mr-container-inner clearfix">
				<p class="mr-copyright">&copy; 2017 零零散散. <a href="https://git.oschina.net/dishui/dishui" target="_blank" rel="nofollow noopener noreferrer">dishui</a>.</p>
			</div>
		</div>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
<script src="/js/asciinema-player.js"></script>
<script data-main="/js/app.js" src="/js/require.js"></script>


</body>
</html>